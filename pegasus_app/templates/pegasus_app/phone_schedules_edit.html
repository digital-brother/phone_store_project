<style>
    .not_selected {
        display: none;
    }

    .selected {
        display: flex;
        flex-direction: column;
    }
</style>


<form action=".." method="post">
    {% csrf_token %}

    <div class="d-flex" style="margin-bottom: 10px;">
        <h5 style="margin: 0 10px 0 0;">Enable</h5>
        <input type="checkbox">
    </div>

    <div class="d-flex flex-column">
        <label>{{ phone_form.ima_name.label }}</label>
        {{ phone_form.ima_name }}
        <label>{{ phone_form.number.label }}</label>
        {{ phone_form.number }}
        {{ phone_form.number.errors }}
        <div class="d-flex" style="justify-content: space-between; margin-bottom: 20px;">
            <div>
                <label>{{ phone_form.failure_threshold.label }}</label>
                {{ phone_form.failure_threshold }}

            </div>
            <output name="output_failure_threshold" id="id_output_failure_threshold">Notify after 4 failures
            </output>
        </div>
        <div class="d-flex" style="justify-content: space-between; margin-bottom: 20px;">
            <div>
                <label>{{ phone_form.test_frequency.label }}</label>
                {{ phone_form.test_frequency }}

            </div>
            <output name="output_test_frequency" id="id_output_test_frequency">Check every 10 minutes (10 to
                120)
            </output>
        </div>
    </div>

    {{ phone_form.numbers.errors }}

    <hr>


    <h4>Scheduling</h4>
    <div class="d-flex" style="justify-content: space-between; overflow: hidden;">
        {{ schedule_formset.management_form }}
        {% for form in schedule_formset %}
            <div class="d-flex" style="flex-direction: column;  align-items: center;">
                {{ form.id }}
                <p hidden>{{ form.day }}</p>
                {{ form.day.value|capfirst }}
                {{ form.is_active }}
                <div class="{{ form.is_active.html_name }} not_selected" style="flex-direction: column;"
                     id="schedules-0-is_active">
                    <label>{{ form.open_time.label }}</label>
                    {{ form.open_time }}
                    {{ form.errors.open_time }}
                    <label>{{ form.close_time.label }}</label>
                    {{ form.close_time }}
                    {{ form.errors.close_time }}
                </div>
            </div>
        {% endfor %}
    </div>


    <input type="submit" class="btn btn-primary"
           style="background: #6f00cc; padding: 7px 15px 7px 15px; margin-top: 60px;"
           value="SUBMIT">

</form>
<script type="text/javascript">
    $(function () {
        const checkbox = $("input[type='checkbox']")
        checkbox.each(function () {
            const inputValue = $(this).attr("name");
            if ($(this).is(":checked")) {
                $("." + inputValue).removeClass('not_selected');
                $("." + inputValue).addClass('selected')
            }
        });

            checkbox.change(function () {
                const inputValue = $(this).attr("name");
                if ($(this).is(":checked")) {
                    $("." + inputValue).removeClass('not_selected');
                    $("." + inputValue).addClass('selected')
                } else {
                    $("." + inputValue).removeClass('selected');
                    $("." + inputValue).addClass('not_selected')
                }

            });
        });
</script>
<form action="." method="post">
  {% csrf_token %}

  <div class="d-flex" style="margin-bottom: 10px;">
    <h5 style="margin: 0 10px 0 0;">Enable</h5>
    <input type="checkbox">
  </div>

  <div class="d-flex flex-column">
    <label>{{ phone_form.ima_name.label }}</label>
    {{ phone_form.ima_name }}
    <label>{{ phone_form.number.label }}</label>
    {{ phone_form.number }}
    {{ phone_form.number.errors }}
    <div class="d-flex" style="justify-content: space-between; margin-bottom: 20px;">
      <div>
        <label>{{ phone_form.failure_threshold.label }}</label>
        {{ phone_form.failure_threshold }}

      </div>
      <output name="output_failure_threshold" id="id_output_failure_threshold">Notify after 4 failures
      </output>
    </div>
    <div class="d-flex" style="justify-content: space-between; margin-bottom: 20px;">
      <div>
        <label>{{ phone_form.test_frequency.label }}</label>
        {{ phone_form.test_frequency }}

      </div>
      <output name="output_test_frequency" id="id_output_test_frequency">Check every 10 minutes (10 to
        120)
      </output>
    </div>
  </div>

  {{ phone_form.numbers.errors }}

  <hr>


  <h4>Scheduling</h4>
  <div class="d-flex" style="justify-content: space-between; overflow: hidden;">
    {{ schedule_formset.management_form }}
    {% for form in schedule_formset %}
      <div class="d-flex" style="flex-direction: column;  align-items: center;">
        {{ form.id }}
        <p hidden>{{ form.day }}</p>
        {{ form.day.value|capfirst }}
        {{ form.is_active }}
        <label style="margin-left: -60px;">{{ form.open_time.label }}</label>
        {{ form.open_time }}
        {{ form.errors.open_time }}
        <label style="margin-left: -60px;">{{ form.close_time.label }}</label>
        {{ form.close_time }}
        {{ form.errors.close_time }}
      </div>
    {% endfor %}
  </div>


  <input type="submit" class="btn btn-primary" style="background: #6f00cc; padding: 7px 15px 7px 15px;" value="SUBMIT">

</form>